<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Theme Made By www.w3schools.com - No Copyright -->
		<title>02806 Social Data Analysis and Visualization</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<script src="https://d3js.org/d3.v4.js"></script>
		<script src="https://d3js.org/d3-color.v1.min.js"></script>
		<script src="https://d3js.org/d3-interpolate.v1.min.js"></script>
		<script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script>
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet" type="text/css">
		<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet" type="text/css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<style>
			body {
				font: 400 15px Lato, sans-serif;
				line-height: 1.8;
				color: #818181;
			}
			h2 {
				font-size: 24px;
				text-transform: uppercase;
				color: #303030;
				font-weight: 600;
				margin-bottom: 30px;
			}
			h4 {
				font-size: 19px;
				line-height: 1.375em;
				color: #303030;
				font-weight: 400;
				margin-bottom: 30px;
			}	
			.jumbotron {
				background-color: #e68a00;
				color: #fff;
				padding: 100px 25px;
				font-family: Montserrat, sans-serif;
			}
			.container-fluid {
				padding: 60px 50px;
			}
			.bg-grey {
				background-color: #f6f6f6;
			}
			.panel {
				border: 1px solid #f4511e; 
				border-radius:0 !important;
				transition: box-shadow 0.5s;
			}
			.panel:hover {
				box-shadow: 5px 0px 40px rgba(0,0,0, .2);
			}
			.panel-footer .btn:hover {
				border: 1px solid #f4511e;
				background-color: #fff !important;
				color: #f4511e;
			}
			.panel-heading {
				color: #fff !important;
				background-color: #f4511e !important;
				padding: 25px;
				border-bottom: 1px solid transparent;
				border-top-left-radius: 0px;
				border-top-right-radius: 0px;
				border-bottom-left-radius: 0px;
				border-bottom-right-radius: 0px;
			}
			.panel-footer {
				background-color: white !important;
			}
			.panel-footer h3 {
				font-size: 32px;
			}
			.panel-footer h4 {
				color: #aaa;
				font-size: 14px;
			}
			.panel-footer .btn {
				margin: 15px 0;
				background-color: #f4511e;
				color: #fff;
			}
			.navbar {
				margin-bottom: 0;
				background-color: #e68a00;
				z-index: 9999;
				border: 0;
				font-size: 12px !important;
				line-height: 1.42857143 !important;
				letter-spacing: 4px;
				border-radius: 0;
				font-family: Montserrat, sans-serif;
			}
			.navbar li a, .navbar .navbar-brand {
				color: #fff !important;
			}
			.navbar-nav li a:hover, .navbar-nav li.active a {
				color: #e68a00 !important;
				background-color: #fff !important;
			}
			.navbar-default .navbar-toggle {
				border-color: transparent;
				color: #fff !important;
			}
			footer .glyphicon {
				font-size: 20px;
				margin-bottom: 20px;
				color: #e68a00;
			}
			.slideanim {visibility:hidden;}
			.slide {
				animation-name: slide;
				-webkit-animation-name: slide;
				animation-duration: 1s;
				-webkit-animation-duration: 1s;
				visibility: visible;
			}
			@keyframes slide {
			0% {
				opacity: 0;
				transform: translateY(70%);
			} 
			100% {
				opacity: 1;
				transform: translateY(0%);
			}
			}
			@-webkit-keyframes slide {
			0% {
				opacity: 0;
				-webkit-transform: translateY(70%);
			} 
			100% {
				opacity: 1;
				-webkit-transform: translateY(0%);
			}
			}
			@media screen and (max-width: 768px) {
			.col-sm-4 {
				text-align: center;
				margin: 25px 0;
			}
			.btn-lg {
				width: 100%;
				margin-bottom: 35px;
			}
			}
			.brushed {
				fill: purple;
				stroke: grey;
				stroke-width: 0.3;
				opacity: 1.0;
			}
			.non_brushed {
				fill: grey;
				stroke: grey;
				stroke-width: 0.3;
				opacity: 0.5;
			}
			.non_visible {
				fill: none;
			}
			.line {
				fill: none;
				stroke: steelblue;
				stroke-width: 2;
			}
			.axis path,
			.axis line {
				fill: none;
				stroke: black;
			}
			.axis text {
				font-family: sans-serif;
				font-size: 11px;
				fill: olive;
			}
			#tooltip {
				position: absolute;
				width: 150px;
				height: auto;
				padding: 5px;
				background-color: white;
				-webkit-border-radius: 10px;
				-moz-border-radius: 10px;
				border-radius: 10px;
				-webkit-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
				-moz-box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
				box-shadow: 4px 4px 10px rgba(0, 0, 0, 0.4);
				pointer-events: none;
			}
			#tooltip.hidden {
				visibility: hidden;
			}
			#tooltip p {
				margin: 0;
				font-family: sans-serif;
				font-size: 14px;
			}
			path.hidden,circle.hidden,line.hidden {
				display: none;
			}
			.brush .extent {
				stroke: #fff;
				fill-opacity: .125;
				shape-rendering: crispEdges;
			}
		</style>
	</head>
	<body id="myPage" data-spy="scroll" data-target=".navbar" data-offset="60">
		<nav class="navbar navbar-default navbar-fixed-top">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>
					<span class="icon-bar"></span>												
					</button>
				</div>
				<div class="collapse navbar-collapse" id="myNavbar">
					<ul class="nav navbar-nav navbar-right">
					<li><a href="#Story">STORY</a></li>
					<li><a href="#part2">PART 2</a></li>
					<li><a href="#part3">PART 3</a></li>
					</ul>
				</div>
			</div>
		</nav>

		<div class="jumbotron text-center">
			<h1 style="font-size: 32px;">02806 - Social Data Analysis and Visualization</h1> 
			<h2 style="color: white;">Project</h2> 
		</div>

		<!-- Container (Part 1 Section) -->
		<div id="Story" class="container-fluid">
			<div class="row">
				<div class="col-sm-12 col-md-12 col-lg-12">
					<h2>Story behind the data</h2><br>
					<ul>
						<li>List item 1</li>
						<li>List item 2</li>
						<li>Sublist<ul>
							<li>Sublist item 1</li>
							<li>Sublist item 2</li>
							<li>Sublist item 3</li>
							<li><em>Ordering:</em> User Directed Path</li>
							<li><em>Interactivity:</em> Filtering / Selection / Search.</li>
							<li><em>Messaging:</em> Captions / Headlines.</li>
						</ul></li>
					</ul>
				</div>
			</div>
		</div>
		<!-- Container (Part 2 Section) -->
		<div id="part2" class="container-fluid bg-grey">
			<div class="row">
				<div class="col-sm-12 col-md-12 col-lg-12">
					<h2>Part 2</h2><br>
					<ul>
						<li>List item 1</li>
						<li>List item 2</li>
						<li>Sublist<ul>
							<li>Sublist item 1</li>
							<li>Sublist item 2</li>
							<li>Sublist item 3</li>
							<li><em>Ordering:</em> User Directed Path</li>
							<li><em>Interactivity:</em> Filtering / Selection / Search.</li>
							<li><em>Messaging:</em> Captions / Headlines.</li>
						</ul></li>
					</ul>
				</div>
			</div>
		</div>
		<!-- Container (Part 3 Section) -->
		<div id="part3" class="container-fluid">
			<h2>Part 3</h2><br>
			<div class="row">
				<div class="col-sm-12 col-md-12 col-lg-12" id="timeline"></div>
			</div>
			<div class="row">
				<div class="col-sm-12 col-md-12 col-lg-12" id="map_container"></div>
			</div>
		</div>

		<!-- Container (Footer Section) -->
		<footer class="container-fluid text-center">
			<a href="#myPage" title="To Top">
			<span class="glyphicon glyphicon-chevron-up"></span>
			</a>
			<p>Scroll to the top of the page</p>
		</footer>

		<script>
		$(document).ready(function(){
			// Add smooth scrolling to all links in navbar + footer link
			$(".navbar a, footer a[href='#myPage']").on('click', function(event) {
				// Make sure this.hash has a value before overriding default behavior
				if (this.hash !== "") {
					// Prevent default anchor click behavior
					event.preventDefault();

					// Store hash
					var hash = this.hash;

					// Using jQuery's animate() method to add smooth page scroll
					// The optional number (900) specifies the number of milliseconds it takes to scroll to the specified area
					$('html, body').animate({
					scrollTop: $(hash).offset().top
					}, 900, function(){
				 
					// Add hash (#) to URL when done scrolling (default click behavior)
					window.location.hash = hash;
					});
				} // End if
			});
			
			$(window).scroll(function() {
				$(".slideanim").each(function(){
					var pos = $(this).offset().top;

					var winTop = $(window).scrollTop();
					if (pos < winTop + 600) {
						$(this).addClass("slide");
					}
				});
			});
		})
		</script>
		<script type="text/javascript">
			// settings for window
			var w = 800;
			var h = 800;

			var svg = d3.select("div[id=map_container]").append("svg").attr("width",w).attr("height",h).style("transform","translate(50%,0%)");

			var projection = d3.geoMercator().translate([w/2-50,h/2]).scale(220000).center([12.5497,55.68]);
			var path = d3.geoPath().projection(projection);

			var color = d3.scaleSequential(d3.interpolateViridis);
			//var color = d3.scaleQuantize().range(["rgb(66,134,244)","rgb(227,175,255)","rgb(142,121,181)","rgb(155,188,255)","rgb(147,160,188)"]);

			var map = svg.append("g").attr("id","map").attr("class","features");
			//var labels = svg.append("g").attr("class","labels");

			d3.json("map.json",function(json) {
				//console.table(json);
				color.domain([1,396]);
				// add labels to plot
				//labels.selectAll(".label").data(json.features).enter().append("text").attr("class","label").attr("transform",function(d) { return "translate("+path.centroid(d)+")"; }).style("text-anchor","middle").text(function(d) { return d.properties.rode_nr; });
				// add map and colors
				map.selectAll("path").data(json.features).enter().append("path").attr("d",path).style("fill",function(d) {
					//Get data value
					var value = d.properties.rode_nr;
					if (value) {
						//If value exists…
						return color(value);
					} else {
						//If value is undefined…
						return "#ccc";
					}
				});
			});
		</script>
	</body>
</html>
